(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{13:function(e,t,n){e.exports=n(35)},35:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(12),r=n.n(o),l=n(2),m=n.n(l);const i=({person:e,onRemovePerson:t})=>s.a.createElement("tr",null,s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.number),s.a.createElement("td",null,s.a.createElement("button",{onClick:n=>t(e.id,n)},"poista")));var u=({persons:e,onRemovePerson:t})=>s.a.createElement("table",null,s.a.createElement("tbody",null,e.map(e=>s.a.createElement(i,{key:e.name,person:e,onRemovePerson:t}))));var h=({onAddPerson:e,onNameChange:t,onNumberChange:n,newName:a,newNumber:o})=>s.a.createElement("form",{onSubmit:e},s.a.createElement("div",null,"Nimi: ",s.a.createElement("input",{value:a,onChange:t})),s.a.createElement("div",null,"Numero: ",s.a.createElement("input",{value:o,onChange:n})),s.a.createElement("div",null,s.a.createElement("button",{type:"submit"},"Lis\xe4\xe4")));class c extends s.a.Component{constructor(e){super(e),this.addPerson=e=>{e.preventDefault();const t={name:this.state.newName,number:this.state.newNumber};this.state.persons.map(e=>e.name.toUpperCase()).includes(t.name.toUpperCase())?alert("".concat(t.name," on jo olemassa! Valitse toinen nimi")):m.a.post("/api/persons",t).then(e=>{this.setState({persons:this.state.persons.concat(e.data),newName:"",newNumber:""})})},this.removePerson=(e,t)=>{const n="".concat("/api/persons","/").concat(e),a=this.state.persons.find(t=>t.id===e);window.confirm("Oletko varma, ett\xe4 haluat poistaa henkil\xf6n ".concat(a.name," puhelinluettelosta"))&&m.a.delete(n,a).then(t=>{this.setState({persons:this.state.persons.filter(t=>t.id!==e)})})},this.handleNameChange=e=>{this.setState({newName:e.target.value})},this.handleNumberChange=e=>{this.setState({newNumber:e.target.value})},this.state={persons:[],newName:"",newNumber:""}}componentDidMount(){m.a.get("/api/persons").then(e=>{this.setState({persons:e.data})})}render(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Puhelinluettelo"),s.a.createElement(h,{onAddPerson:this.addPerson,onNameChange:this.handleNameChange,onNumberChange:this.handleNumberChange,newName:this.state.newName,newNumber:this.state.newNumber}),s.a.createElement("h2",null,"Numerot"),s.a.createElement(u,{persons:this.state.persons,onRemovePerson:this.removePerson}))}}var p=c;r.a.render(s.a.createElement(p,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.b2d42141.chunk.js.map